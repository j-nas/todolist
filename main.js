(()=>{"use strict";const e=(()=>{null==localStorage.getItem("idcount")&&(localStorage.setItem("idcount","0"),console.log("wut"));let e=+localStorage.getItem("idcount");console.log(e);let t=[];const a=()=>{localStorage.setItem("tasks",JSON.stringify(t))},d=()=>{t=JSON.parse(localStorage.getItem("tasks")),console.log(t)};return{addTitle:(e,a)=>{let d=t.filter((t=>t.id==e));t[t.indexOf(d[0])].title=a},newTask:()=>{d();let l=(new Date).toISOString().slice(0,10);e+=1,localStorage.setItem("idcount",e),t.push({title:"untitled",id:e,date:l,description:"Add description here",important:!1,complete:!1,project:"Add to a project",subtasks:[]}),a()},getTasks:e=>{switch(e){case"all":return t}},addDate:(e,a)=>{let d=t.filter((t=>t.id==e));t[t.indexOf(d[0])].date=a},addDesc:(e,a)=>{let d=t.filter((t=>t.id==e));t[t.indexOf(d[0])].description=a},addProject:(e,a)=>{let d=t.filter(task=task.id==e);t[t.indexOf(d[0])].project=a},toggleComplete:e=>{let a=t.filter((t=>t.id==e)),d=t.indexOf(a[0]);console.log(ompleteIndex),!0===t[d].complete?t[d].complete=!1:t[d].complete=!0},toggleImportant:e=>{let a=t.filter((t=>t.id==e)),d=t.indexOf(a[0]);!0===t[d].important?t[d].important=!1:t[d].important=!0},getProperty:(e,a)=>{let d=t.filter((t=>t.id==e));return t[t.indexOf(d[0])][a]},pushToLocal:a,returnLocal:d}})();(()=>{const t=()=>{const e=document.createElement("div");e.classList.add("titlebar"),container.appendChild(e);const t=document.createElement("div");t.classList.add("waterDrop"),t.innerHTML='<i class="fas fa-bars"></i>',e.appendChild(t);const a=document.createElement("div");a.innerHTML="<h1>Doist</h1>",e.appendChild(a)},a=({label:e,dataset:t})=>({label:e,dataset:t}),d=[a({label:'<i class="fas fa-plus"></i> Add Project',dataset:"add"}),a({label:"All Projects",dataset:"all"}),a({label:"Today",dataset:"today"}),a({label:"This Week",dataset:"week"}),a({label:"Important",dataset:"important"}),a({label:"Completed",dataset:"completed"})],l=(...e)=>{const t=document.querySelector(".menu");if(t.innerHTML="",!1===e.length)for(let a=e.length-1;a>=0;a++){console.log(d[a]);let l=document.createElement("div");l.classList.add("menuItem"),l.setAttribute("data-menu",`${e[a].id}`),t.appendChild(l)}for(let e=0;e<d.length;e++){let a=document.createElement("div");a.classList.add("menuItem"),a.setAttribute("data-menu",`${d[e].dataset}`),a.innerHTML=d[e].label,t.appendChild(a)}n()};let s="all";const n=()=>{Array.from(document.querySelectorAll(".menuItem")).forEach((e=>e.classList.remove("selected"))),document.querySelector(`[data-menu="${s}"]`).classList.add("selected")},i=()=>{let t=document.querySelector(".contentArea"),a=["one taks","another tasks"],d=["not empty"];if(e.getTasks(s)!==[]){for(let e=0;e<d.length;e++){let d=document.createElement("div");d.classList.add("task"),t.appendChild(d);let l=document.createElement("div");l.classList.add("taskTitle"),d.appendChild(l);let s=document.createElement("div");s.classList.add("taskName"),s.innerHTML='<span><i class="fas fa-minus"></i></span> Task Name',l.appendChild(s);let n=document.createElement("div");n.classList.add("taskProject"),n.innerText="Project 1",l.appendChild(n);let i=document.createElement("div");i.classList.add("taskDate"),i.innerHTML='<input type="date" id="taskDate">',l.appendChild(i);let c=document.createElement("div");c.classList.add("taskDesc"),c.innerHTML='<textarea resize="none" name="" id="description">Add description here</textarea>',d.appendChild(c);let o=document.createElement("div");for(o.classList.add("subTasks"),d.appendChild(o);e<a.length;e++){let t=document.createElement("div");t.classList.add("subtask"),t.innerHTML='<i class="fas fa-minus"></i> '+a[e],o.appendChild(t)}let r=document.createElement("div");r.classList.add("subtask"),r.id="newSubtask",r.innerHTML='<i class="fas fa-plus"></i> New subtask',o.appendChild(r);let m=document.createElement("div");m.classList.add("taskFooter"),d.appendChild(m);let p=document.createElement("div");p.classList.add("taskComplete"),p.innerHTML='<i class="fas fa-check"></i> Task Complete',m.appendChild(p);let u=document.createElement("div");u.classList.add("taskImportant"),u.innerHTML='<i class="fas fa-exclamation"></i>',m.appendChild(u)}let e=document.createElement("div");e.classList.add("addNewTask"),e.innerHTML='<i class="fas fa-plus"></i> <span> New Task</span>',t.appendChild(e)}};return{base:()=>{const e=document.querySelector("#container");e.innerHTML="",t();const a=document.createElement("div");a.classList.add("menu"),e.appendChild(a),l();const d=document.createElement("div");d.classList.add("contentArea"),e.appendChild(d),i()},menu:l,drawCards:i,setMenuItem:e=>{s=e}}})().base()})();